---
/**
 * BlogCard Component
 * Modern, clean blog post preview card
 */

interface Props {
	title: string;
	description: string;
	publishDate: Date;
	slug: string;
	tags?: string[];
	readingTime?: number;
}

const { title, description, publishDate, slug, tags = [], readingTime } = Astro.props;

// Format date in Dutch
const formattedDate = publishDate.toLocaleDateString("nl-NL", {
	year: "numeric",
	month: "short",
	day: "numeric",
});

// Calculate reading time estimate if not provided
const estimatedReadingTime = readingTime || 5;
---

<article class="group">
	<a href={`/blog/${slug}`} class="block py-6 border-b border-ink/10 hover:border-ink/20 transition-colors">
		<div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
			<div class="flex-1 min-w-0">
				<!-- Title -->
				<h2 class="text-xl font-bold text-ink leading-tight mb-2 group-hover:text-ink/70 transition-colors">
					{title}
				</h2>

				<!-- Description -->
				<p class="text-ink/60 leading-relaxed mb-3 line-clamp-2">
					{description}
				</p>

				<!-- Meta Row -->
				<div class="flex flex-wrap items-center gap-3">
					<!-- Tags -->
					{tags.length > 0 && (
						<div class="flex flex-wrap gap-2">
							{tags.slice(0, 2).map((tag) => (
								<span class="px-2.5 py-0.5 bg-ink/5 text-ink/60 text-xs font-medium rounded-full">
									{tag}
								</span>
							))}
						</div>
					)}

					{tags.length > 0 && (
						<span class="w-1 h-1 bg-ink/20 rounded-full hidden sm:block"></span>
					)}

					<!-- Date & Reading Time -->
					<div class="flex items-center gap-2 text-sm text-ink/40">
						<time datetime={publishDate.toISOString()}>
							{formattedDate}
						</time>
						<span>&middot;</span>
						<span>{estimatedReadingTime} min</span>
					</div>
				</div>
			</div>

			<!-- Arrow indicator -->
			<div class="hidden md:flex items-center justify-center w-10 h-10 rounded-full bg-ink/5 group-hover:bg-acid group-hover:text-ink transition-all flex-shrink-0 mt-1">
				<span class="text-ink/30 group-hover:text-ink transition-colors">&rarr;</span>
			</div>
		</div>
	</a>
</article>
